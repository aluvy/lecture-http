<!DOCTYPE html>
<html lang="ko">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>CH16</title>
  <style>
    img {
      width: 50%;
    }
  </style>
  <script>
    window.addEventListener('DOMContentLoaded', () => {
      console.log('DOMContentLoaded');
    })

    window.addEventListener('load', () => {
      console.log('load');
      const entries = performance.getEntriesByType('measure');
      entries.forEach(entry => {
        const result = `${entry.name}: ${entry.startTime}, ${entry.duration}ms`;
        console.log(result);
      })
    })
  </script>

  <!-- preload -->
  <link rel="preload" href="cat.jpg" as="image">

  <!-- Prefetch -->
  <link rel="prefetch" href="index-next.html" as="html">
</head>

<body>
  <script>
    performance.mark("script-big-start");
  </script>
  <!-- <script src="script-big.js" async></script> -->
  <script src="script-big.js" defer></script>
  <script>
    performance.mark("script-small-start");
  </script>
  <!-- <script src="script-small.js" async></script> -->
  <script src="script-small.js" defer></script>

  <button type="button" id="addImageButton">Add Image</button>
  <script>
    document.querySelector("#addImageButton").addEventListener('click', () => {
      const img = document.createElement('img');
      img.src = 'cat.jpg';
      document.body.appendChild(img);
    })
  </script>

  <!-- Prefetch -->
  <a href="index-next.html">Next Page</a>

  <img src="cat.jpg" alt="cat">
  <div style="height: 1000vh; border: 1px solid #000;">
    Empty Box
  </div>
  <img src="dog.jpg" alt="dog" loading="lazy">
</body>

</html>