# HTTP

ğŸ”— https://github.com/jeonghwan-kim/lecture-http  
ğŸ”— https://jeonghwan-kim.github.io/2024/07/07/lecture-http-part1

<br>

# 1.4 cURL

ğŸ”— cURL ë‹¤ìš´ë¡œë“œ: https://curl.se/download.html

- client for URLì˜ ì•½ì. URLì„ ë°›ì•„ ì„œë²„ë¡œ ìš”ì²­ì„ ë³´ë‚´ê³  ë°›ì€ ì‘ë‹µì„ ì¶œë ¥í•˜ëŠ” ë„êµ¬
- cURLë¡œ HTTP ìš”ì²­ ë° ì‘ë‹µ í™•ì¸í•˜ê¸°

```shell
$ curl http://localhost:3000/ch01.txt -v
$ curl http://localhost:3000/ch01.txt --verbose
```

- ê²°ê³¼

```shell
* Host localhost:3000 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
*   Trying [::1]:3000...
* Connected to localhost (::1) port 3000
> GET /ch01.txt HTTP/1.1
> Host: localhost:3000
> User-Agent: curl/8.7.1
> Accept: */*
>
* Request completely sent off
< HTTP/1.1 200 OK
< Date: Fri, 31 Jan 2025 08:51:06 GMT
< Connection: keep-alive
< Keep-Alive: timeout=5
< Transfer-Encoding: chunked
<
HTTP Lecture

Chapter 1. Basic
  1.1 HTTP Start
* Connection #0 to host localhost left intact
  1.2 HTTP Message%
```

<br>

# 2.2 URL

```shell
í”„ë¡œí† ì½œ://ë„ë©”ì¸:í¬íŠ¸/ê²½ë¡œ?ì¿¼ë¦¬ë¬¸ìì—´#ì•µì»¤
```

- Uniform Resource Locator
- URL: í´ë¼ì´ì–¸íŠ¸ì™€ ìš”ì²­ì„ ë³´ë‚¼ ë•Œ ëŒ€ìƒì´ ë˜ëŠ” ê²ƒ
- ì¼ì •í•œ ë°©ì‹ì˜ ìì›, ìœ„ì¹˜ íƒì‚¬ê¸°, ì¸í„°ë„· ìƒì˜ íŒŒì¼ ìœ„ì¹˜ë¥¼ ì§€ì •í•˜ëŠ” ë°©ì‹

## 2.2.1 í”„ë¡œí† ì½œ

> <b>http:</b>//ë„ë©”ì¸:í¬íŠ¸/ê²½ë¡œ?ì¿¼ë¦¬ë¬¸ìì—´#ì•µì»¤

- URLì€ í”„ë¡œí† ì½œ ì´ë¦„ìœ¼ë¡œ ì‹œì‘í•œë‹¤.
- í”„ë¡œí† ì½œì€ URLì˜ ì¢…ë¥˜ë¥¼ ê²°ì •í•˜ëŠ” ì—­í• ì„ í•œë‹¤.
- http ë¼ê³  í•˜ë©´ ì›¹ ë¬¸ì„œë¥¼ ì‹ë³„í•˜ëŠ” URL
- ë‹¤ë¥¸ í”„ë¡œí† ì½œ
  - mailto: ì´ë©”ì¼ ì „ì†¡ìš© í”„ë¡œí† ì½œ
  - tel: ì „í™”ë¥¼ ìœ„í•œ í”„ë¡œí† ì½œ

## 2.2.2 ë„ë©”ì¸

> http://<strong style="font-size: 1.4em">localhost</strong>:í¬íŠ¸/ê²½ë¡œ?ì¿¼ë¦¬ë¬¸ìì—´#ì•µì»¤

- ì„œë²„ì˜ ìœ„ì¹˜ë¥¼ ë‚˜íƒ€ëƒ„
- ë„ë©”ì¸ì˜ IPë¥¼ ì•Œë ¤ì£¼ëŠ” ì„œë²„ì¸ Domain Name System. ì¤„ì—¬ì„œ DNSì— ë„ë©”ì¸ ì£¼ì†Œë¥¼ ì „ë‹¬í•˜ë©´ IPì£¼ì†Œë¥¼ ì–»ì„ ìˆ˜ ìˆë‹¤.
- ë„ë©”ì¸ ìœ„ì¹˜ì— IPì£¼ì†Œë¥¼ ë°”ë¡œ ì‚¬ìš©í•´ë„ ë¨

## 2.2.3 í¬íŠ¸

> http://localhost<strong  style="font-size: 1.4em">:3000</strong>/ê²½ë¡œ?ì¿¼ë¦¬ë¬¸ìì—´#ì•µì»¤

- IPë¡œ ì ‘ì†í•œ ì„œë²„ëŠ” ì—¬ëŸ¬ ê°œì˜ í¬íŠ¸ê°€ ìˆìŒ
- í´ë¼ì´ì–¸íŠ¸ëŠ” íŠ¹ì • í¬íŠ¸ë¥¼ í†µí•´ ì„œë²„ì— ì ‘ì†í•˜ê³ , íŠ¹ì • ì–´í”Œë¦¬ì¼€ì´ì…˜ì— ì ‘ì†í•  ìˆ˜ ìˆë‹¤.
- í¬íŠ¸ëŠ” 0ë¶€í„° 65535 ì‚¬ì´ì˜ ì •ìˆ˜ê°’ì„ ì“´ë‹¤.
  - 0 ~ 1023: ì •í•´ì§„ í¬íŠ¸ (ì‚¬ìš©í•˜ë ¤ë©´ ìš´ì˜ì²´ì œì˜ ê´€ë¦¬ì ê¶Œí•œì´ ìˆì–´ì•¼ í•œë‹¤.)
    - http í”„ë¡œí† ì½œ: 80
    - https í”„ë¡œí† ì½œ: 443
    - íŒŒì¼ ì „ì†¡ì„ ìœ„í•œ í”„ë¡œí† ì½œ: 22
    - shell: 22
    - email: 25 ë“±
  - 1024 ~ 49151: ë“±ë¡ëœ í¬íŠ¸
    - ê°œë°œí™˜ê²½ êµ¬ì„± ì‹œ ì‚¬ìš©
  - ë‚˜ë¨¸ì§€
    - ë™ì  í¬íŠ¸ (ì¼ì‹œì ìœ¼ë¡œ í´ë¼ì´ì–¸íŠ¸ê°€ ì„œë²„ì™€ í†µì‹ í•˜ê¸° ìœ„í•œ í¬íŠ¸)

## 2.2.4 ê²½ë¡œ

> http://localhost:3000<strong  style="font-size: 1.4em">/ch01.txt</strong>?ì¿¼ë¦¬ë¬¸ìì—´#ì•µì»¤

- ì„œë²„ê°€ ì œê³µí•˜ëŠ” íŒŒì¼ì˜ ìœ„ì¹˜
- ê²½ë¡œ
- ìƒí™©ì— ë”°ë¼ì„œëŠ” ì„œë²„ì˜ ì‹¤ì œ ê²½ë¡œê°€ ì•„ë‹ ìˆ˜ë„ ìˆë‹¤. (ì„œë²„ êµ¬í˜„ì— ë”°ë¼ ë‹¤ë¥´ë‹¤.)
- ì„œë²„ê°€ ì™¸ë¶€ì— ì œê³µí•˜ëŠ” ì¶”ê°•í™”ëœ ê°œë…ì´ë¼ê³  ì´í•´í•˜ëŠ”ê²ƒì´ ë” ì¢‹ë‹¤.

## 2.2.5 ì¿¼ë¦¬ë¬¸ìì—´

> http://localhost:3000/ch01.txt<strong  style="font-size: 1.4em">?query=name</strong>#ì•µì»¤

- ì„œë²„ì— ì¶”ê°€ë¡œ ì •ë³´ë¥¼ ì „ë‹¬í•  ë•Œ ì‚¬ìš©
- ê²½ë¡œ ë’¤ì— ? ë¡œ ì‹œì‘í•˜ë©° key=value í˜•íƒœ, í•˜ë‚˜ ì´ìƒì¼ ë•ŒëŠ” &ë¡œ ì—°ê²°

## 2.2.6 í”„ë ˆê·¸ë¨¼íŠ¸

> http://localhost:3000/ch01.txt?query=name<strong  style="font-size: 1.4em">#title</strong>

- ì›¹í˜ì´ì§€ ë‚´ì— íŠ¹ì • ìœ„ì¹˜ë¥¼ ê°€ë¦¬í‚´
- html ë§ˆí¬ì—… id ì†ì„±ê³¼ ë§¤ì¹­ ë¨

<br>

# 2.3 ìš”ì²­, request

```shell
# ìš”ì²­ í—¤ë”
> GET /ch01.txt HTTP/1.1
> Host: localhost:3000
> User-Agent: curl/8.7.1
> Accept: */*
>
```

- í´ë¼ì´ì–¸íŠ¸ì—ì„œ ì„œë²„ë¡œ ì „ë‹¬í•˜ëŠ” ë©”ì‹œì§€
- êµ¬ì„±
  - ìš”ì²­ ë©”ì‹œì§€: ë©”ì„œë“œì™€ ê²½ë¡œ, í—¤ë”, ë³¸ë¬¸ìœ¼ë¡œ êµ¬ì„±
  - ë©”ì„œë“œ: GET, POST, PUT, PATCH, DELETE
  - ê²½ë¡œ: ìì›ì˜ ìœ„ì¹˜
  - í”„ë¡œí† ì½œ ë²„ì „
  - ìš”ì²­ ë³¸ë¬¸

> <strong>GET / ch01.txt HTTP/1.1</strong>

- GET: ë©”ì†Œë“œ
  - í´ë¼ì´ì–¸íŠ¸ì™€ ì„œë²„ ê°„ì˜ ìš”ì²­ ë°©ì‹ì„ ì •ì˜
  - í´ë¼ì´ì–¸íŠ¸ê°€ ì„œë²„ì—ê²Œ ì–´ë–¤ ì‘ì—…ì„ ìˆ˜í–‰í• ì§€ë¥¼ ë©”ì„œë“œë¡œ ì „ë‹¬
  - ë©”ì†Œë“œ
    - GET: ì„œë²„ë¡œë¶€í„° ìì›ì„ ìš”ì²­í•  ë•Œ ì‚¬ìš©
    - POST: ì„œë²„ë¡œ ë°ì´í„°ë¥¼ ì „ì†¡í•˜ê³  ì„œë²„ëŠ” ì´ ì¼ì„ ì²˜ë¦¬í•´ ìƒˆë¡œìš´ ìì›ì„ ìƒì„±
    - PUT: ì„œë²„ì˜ ë¦¬ì†ŒìŠ¤ êµì²´
    - PATCH: ì„œë²„ì˜ ë¦¬ì†ŒìŠ¤ë¥¼ ë¶€ë¶„ì ìœ¼ë¡œ êµì²´
    - DELETE: ì„œë²„ì˜ íŠ¹ì„± ë¦¬ì†ŒìŠ¤ë¥¼ ì‚­ì œ
- /ch01.txt: ê²½ë¡œ
  - ì„œë²„ì˜ ì–´ë–¤ íŒŒì¼ì„ ê°€ë¦¬í‚¤ëŠ”ì§€ ì•Œë ¤ì¤Œ
- HTTP/1.1: í”„ë¡œí† ì½œ ë²„ì „

> Host: localhost: 3000

- Host: localhost:3000: ìš”ì²­ì„ ë³´ë‚¼ í˜¸ìŠ¤íŠ¸ì™€ í¬íŠ¸ë²ˆí˜¸ (ì„œë²„ì˜ ìœ„ì¹˜)

> User-Agent: curl/8.7.1

- User-Agent: í´ë¼ì´ì–¸íŠ¸ ì •ë³´
  - curlì„ ì‚¬ìš©í–ˆê¸° ë•Œë¬¸ì— curl/8.7.1 ì´ë¼ëŠ” ê°’ìœ¼ë¡œ ë‚˜íƒ€ë‚¨
  - ë¸Œë¼ìš°ì €ë¼ë©´ ë¸Œë¼ìš°ì € ì´ë¦„ì´ ì‹¤ë¦°ë‹¤.

> Acccept: \*/\*

- Accept: í´ë¼ì´ì–¸íŠ¸ê°€ ì–´ë–¤ ì»¨í…ì¸  íƒ€ì…ì„ ë°›ì„ ìˆ˜ ìˆëŠ”ì§€ í‘œì‹œí•˜ëŠ” ê°’
  - \*/\*: ì–´ë–¤ ì»¨í…ì¸  íƒ€ì…ì´ë“  ë°›ì„ ìˆ˜ ìˆë‹¤ëŠ” ì˜ë¯¸
- ìš”ì²­ í—¤ë”ì˜ ë§ˆì§€ë§‰ì„ ë¹ˆ ì¤„ë¡œ ì…ë ¥í•˜ë©´ ìš”ì²­í—¤ë”ê°€ ëë‚¬ë‹¤ ë¼ëŠ” ì˜ë¯¸

## ìš”ì²­ í—¤ë”ì˜ ì¢…ë¥˜

- Accept
- Accept-Encoding
- Accept-Language
- User-Agent
- Cookie
- Origin

- ìºì‹± ê´€ë ¨

  - If-Modifyied-Since
  - If-None-Match

- ë³´ì•ˆ ê´€ë ¨
  - Access-Control-Allow-Headers
  - Access-Control-Allow-Method

```shell
- ì˜ˆì‹œì—ëŠ” ì—†ì§€ë§Œ í—¤ë”ê°€ ëë‚œ ë’¤ì—ëŠ” ìš”ì²­ ë³¸ë¬¸ì„ ì‹¤ì„ ìˆ˜ ìˆë‹¤.
- ìš”ì²­ í—¤ë”ì™€ ë‹¬ë¦¬ ìš”ì²­ ë³¸ë¬¸ì€ methodì— ë”°ë¼ì„œ ì„ íƒì‚¬í•­ ì„
- POSTë‚˜ PUT, PATCH ê°™ì€ methodì—ì„œëŠ” ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.
```

<br>

# 2.4 ì‘ë‹µ, response

```shell
# ì‘ë‹µ í—¤ë”
< HTTP/1.1 200 OK
< Date: Fri, 31 Jan 2025 08:51:06 GMT
< Connection: keep-alive
< Keep-Alive: timeout=5
< Transfer-Encoding: chunked
<
```

- í´ë¼ì´ì–¸íŠ¸ê°€ ì‘ë‹µ ë°›ëŠ” ë©”ì‹œì§€
- êµ¬ì„±
  - ìƒíƒœ ì½”ë“œ: 1xx, 2xx, 3xx, 4xx, 5xx
  - ì‘ë‹µ í—¤ë”
  - ì‘ë‹µ ë³¸ë¬¸

> HTTP/1.1 200 OK

- í”„ë¡œí† ì½œ ë²„ì „: í´ë¼ì´ì–¸íŠ¸ê°€ ë³´ë‚¸ ìš”ì²­ì‹œì— í”„ë¡œí† ì½œ ë²„ì „ì„ ì„œë²„ì—ì„œë„ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ê²½ìš°ì— ê°™ì€ ë²„ì „ì„ í‘œì‹œí•˜ì—¬ ì‚¬ìš© í•  í”„ë¡œí† ì½œì„ ì„œë¡œ ë§ì¶˜ë‹¤.
- ìƒíƒœì½”ë“œì™€ ìƒíƒœ ë¬¸ì: ìš”ì²­ ë°›ì€ ì„œë²„ê°€ ì²˜ë¦¬ ê²°ê³¼ë¥¼ ì•Œë ¤ì¤€ë‹¤.
  - ìƒíƒœ ê°’
    - 1XX: ì •ë³´ ì‘ë‹µ
      - 101: ì„œë²„ê°€ í´ë¼ì´ì–¸íŠ¸ì˜ í”„ë¡œí† ì½œ ì „í™˜ ìš”ì²­ì„ ìŠ¹ì¸í•  ë•Œ
    - 2XX: ì„±ê³µì„ ì˜ë¯¸
      - 200: ìš”ì²­ì— ì„±ê³µ
      - 201: ì„±ê³µ, ìì›ìƒì„±
      - 204: ìš”ì²­ì€ ì„±ê³µí–ˆì§€ë§Œ ì‘ë‹µí•  ë³¸ë¬¸ì€ ì—†ì„ ë•Œ
    - 3XX: ë¦¬ë‹¤ì´ë ‰ì…˜
      - 301: ìš”ì²­í•œ ë¦¬ì†ŒìŠ¤ URLê°€ ì˜êµ¬ì ìœ¼ë¡œ ë‹¤ë¥¸ ì£¼ì†Œë¡œ ë°”ë€Œì—ˆìŒ. ë°”ë€ ì£¼ì†ŒëŠ” ì‘ë‹µ í—¤ë”ì´ ì‹£ëŠ”ë‹¤
      - 302: ìš”ì²­í•œ ë¦¬ì†ŒìŠ¤ê°€ ì„ì‹œì ìœ¼ë¡œ ë‹¤ë¥¸ URLë¡œ ë³€ê²½ëë‹¤.
      - 304: í´ë¼ì´ì–¸íŠ¸ê°€ ìºì‹±í•œ ë¦¬ì†ŒìŠ¤ë¥¼ ì‚¬ìš©í•´ë„ ëœë‹¤. ë³¸ë¬¸ì€ ë¹„ì›Œì„œ ì˜´
    - 4XX: í´ë¼ì´ì–¸íŠ¸ ì˜¤ë¥˜. ìš”ì²­ì— ë¬¸ì œê°€ ìˆì–´ì„œ ì„œë²„ê°€ ì²˜ë¦¬í•˜ì§€ ëª»í–ˆì„ ê²½ìš°
      - 400: bad request ì˜ëª»ëœ ìš”ì²­
      - 401: ì¸ì¦ì´ í•„ìš”í•œ ê²½ìš°
      - 404: ì—†ëŠ” í˜ì´ì§€ ìš”ì²­í•  ê²½ìš°
    - 5XX: ì„œë²„ ì²˜ë¦¬ ì˜¤ë¥˜. ìš”ì²­ ìì²´ëŠ” ë¬¸ì œê°€ ì—†ì§€ë§Œ ì„œë²„ì˜ ì´ìœ ë¡œ ìš”ì²­ì„ ì²˜ë¦¬í•˜ì§€ ëª»í•¨
      - 500: ì¸í„°ë„ ì„œë²„ ì—ëŸ¬ - ì„œë²„ì—ì„œ ì˜ˆìƒí•˜ì§€ ëª»í•œ ì˜¤ë¥˜ ë°œìƒ
      - 503: ì„œë²„ê°€ í˜„ì¬ ìš”ì²­ì„ ì²˜ë¦¬í•  ìˆ˜ ì—†ìŒ (ì„œë²„ ë‹¤ìš´)
      - 504: time out

> Date: Fri, 31 Jan 2025 08:51:06 GMT

- ì„œë²„ê°€ ì‘ë‹µí•œ ì‹œê°„

> Connection: keep-alive

- TCP ì—°ê²°ì„ ì¼ì •ì‹œê°„ ìœ ì§€í•˜ê¸° ìœ„í•´ ì“°ëŠ” í—¤ë”
- í´ë¼ì´ì–¸íŠ¸ëŠ” 3way handshakeë¥¼ ë§Œë“¤ì§€ ì•Šê³  ì´ë¯¸ ì—°ê²°ëœ TCP ìœ„ì— HTTPìš”ì²­ì„ ë‹¤ì‹œ ë³´ë‚¼ ìˆ˜ ìˆë‹¤.

> Keep-Alive: timeout=5

- TCP ì—°ê²°ì„ ìœ ì§€í•  ìˆ˜ ìˆëŠ” ì œí•œì‹œê°„ (5ì´ˆ)

## ì‘ë‹µ í—¤ë”ì˜ ì¢…ë¥˜

- Content-Type
- Content-Encoding
- Accept-Language
- Vary
- Set-Cookie
- ìºì‹± ê´€ë ¨
  - Last-Modified
  - ETag
  - Cache-Control
  - Expires
- ë³´ì•ˆ ê´€ë ¨
  - Content-Security-Polycy
  - Content-Security-Polycy-Report-Only
  - Access-Control-Allow-Methods
  - Access-Control-Allow-Max-Age

## ì‘ë‹µ ë³¸ë¬¸

- ì‘ë‹µ í—¤ë”ì˜ ë§ˆì§€ë§‰ ì¤„ì„ ë¹„ìš°ê³  ë‚˜ë©´ ë³¸ë¬¸ì´ ì‹œì‘ëœë‹¤.

```
HTTP Lecture

Chapter 1. Basic
  1.1 HTTP Start
  1.2 HTTP Message* Connection #0 to host localhost left intact
```
