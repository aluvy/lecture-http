# HTTP

π”— https://github.com/jeonghwan-kim/lecture-http  
π”— https://jeonghwan-kim.github.io/2024/07/07/lecture-http-part1

## 1.4 cURL

π”— cURL λ‹¤μ΄λ΅λ“: https://curl.se/download.html

- client for URLμ μ•½μ. URLμ„ λ°›μ•„ μ„λ²„λ΅ μ”μ²­μ„ λ³΄λ‚΄κ³  λ°›μ€ μ‘λ‹µμ„ μ¶λ ¥ν•λ” λ„κµ¬
- cURLλ΅ HTTP μ”μ²­ λ° μ‘λ‹µ ν™•μΈν•κΈ°

```shell
$ curl http://localhost:3000/ch01.txt -v
$ curl http://localhost:3000/ch01.txt --verbose
```

- κ²°κ³Ό

```shell
* Host localhost:3000 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
*   Trying [::1]:3000...
* Connected to localhost (::1) port 3000
> GET /ch01.txt HTTP/1.1
> Host: localhost:3000
> User-Agent: curl/8.7.1
> Accept: */*
>
* Request completely sent off
< HTTP/1.1 200 OK
< Date: Fri, 31 Jan 2025 08:51:06 GMT
< Connection: keep-alive
< Keep-Alive: timeout=5
< Transfer-Encoding: chunked
<
HTTP Lecture

Chapter 1. Basic
  1.1 HTTP Start
* Connection #0 to host localhost left intact
  1.2 HTTP Message%
```

## 2.2 URL

```shell
ν”„λ΅ν† μ½://λ„λ©”μΈ:ν¬νΈ/κ²½λ΅?μΏΌλ¦¬λ¬Έμμ—΄#μ•µμ»¤
```

- Uniform Resource Locator
- URL: ν΄λΌμ΄μ–ΈνΈμ™€ μ”μ²­μ„ λ³΄λ‚Ό λ• λ€μƒμ΄ λλ” κ²ƒ
- μΌμ •ν• λ°©μ‹μ μμ›, μ„μΉ νƒμ‚¬κΈ°, μΈν„°λ„· μƒμ νμΌ μ„μΉλ¥Ό μ§€μ •ν•λ” λ°©μ‹

### 2.2.1 ν”„λ΅ν† μ½

> <b>http:</b>//λ„λ©”μΈ:ν¬νΈ/κ²½λ΅?μΏΌλ¦¬λ¬Έμμ—΄#μ•µμ»¤

- URLμ€ ν”„λ΅ν† μ½ μ΄λ¦„μΌλ΅ μ‹μ‘ν•λ‹¤.
- ν”„λ΅ν† μ½μ€ URLμ μΆ…λ¥λ¥Ό κ²°μ •ν•λ” μ—­ν• μ„ ν•λ‹¤.
- http λΌκ³  ν•λ©΄ μ›Ή λ¬Έμ„λ¥Ό μ‹λ³„ν•λ” URL
- λ‹¤λ¥Έ ν”„λ΅ν† μ½
  - mailto: μ΄λ©”μΌ μ „μ†΅μ© ν”„λ΅ν† μ½
  - tel: μ „ν™”λ¥Ό μ„ν• ν”„λ΅ν† μ½

### 2.2.2 λ„λ©”μΈ

> http://<strong style="font-size: 1.4em">localhost</strong>:ν¬νΈ/κ²½λ΅?μΏΌλ¦¬λ¬Έμμ—΄#μ•µμ»¤

- μ„λ²„μ μ„μΉλ¥Ό λ‚νƒ€λƒ„
- λ„λ©”μΈμ IPλ¥Ό μ•λ ¤μ£Όλ” μ„λ²„μΈ Domain Name System. μ¤„μ—¬μ„ DNSμ— λ„λ©”μΈ μ£Όμ†λ¥Ό μ „λ‹¬ν•λ©΄ IPμ£Όμ†λ¥Ό μ–»μ„ μ μλ‹¤.
- λ„λ©”μΈ μ„μΉμ— IPμ£Όμ†λ¥Ό λ°”λ΅ μ‚¬μ©ν•΄λ„ λ¨

### 2.2.3 ν¬νΈ

> http://localhost<strong  style="font-size: 1.4em">:3000</strong>/κ²½λ΅?μΏΌλ¦¬λ¬Έμμ—΄#μ•µμ»¤

- IPλ΅ μ ‘μ†ν• μ„λ²„λ” μ—¬λ¬ κ°μ ν¬νΈκ°€ μμ
- ν΄λΌμ΄μ–ΈνΈλ” νΉμ • ν¬νΈλ¥Ό ν†µν•΄ μ„λ²„μ— μ ‘μ†ν•κ³ , νΉμ • μ–΄ν”λ¦¬μΌ€μ΄μ…μ— μ ‘μ†ν•  μ μλ‹¤.
- ν¬νΈλ” 0λ¶€ν„° 65535 μ‚¬μ΄μ μ •μκ°’μ„ μ“΄λ‹¤.
  - 0 ~ 1023: μ •ν•΄μ§„ ν¬νΈ (μ‚¬μ©ν•λ ¤λ©΄ μ΄μμ²΄μ μ κ΄€λ¦¬μ κ¶ν•μ΄ μμ–΄μ•Ό ν•λ‹¤.)
    - http ν”„λ΅ν† μ½: 80
    - https ν”„λ΅ν† μ½: 443
    - νμΌ μ „μ†΅μ„ μ„ν• ν”„λ΅ν† μ½: 22
    - shell: 22
    - email: 25 λ“±
  - 1024 ~ 49151: λ“±λ΅λ ν¬νΈ
    - κ°λ°ν™κ²½ κµ¬μ„± μ‹ μ‚¬μ©
  - λ‚λ¨Έμ§€
    - λ™μ  ν¬νΈ (μΌμ‹μ μΌλ΅ ν΄λΌμ΄μ–ΈνΈκ°€ μ„λ²„μ™€ ν†µμ‹ ν•κΈ° μ„ν• ν¬νΈ)

### 2.2.4 κ²½λ΅

> http://localhost:3000<strong  style="font-size: 1.4em">/ch01.txt</strong>?μΏΌλ¦¬λ¬Έμμ—΄#μ•µμ»¤

- μ„λ²„κ°€ μ κ³µν•λ” νμΌμ μ„μΉ
- κ²½λ΅
- μƒν™©μ— λ”°λΌμ„λ” μ„λ²„μ μ‹¤μ  κ²½λ΅κ°€ μ•„λ‹ μλ„ μλ‹¤. (μ„λ²„ κµ¬ν„μ— λ”°λΌ λ‹¤λ¥΄λ‹¤.)
- μ„λ²„κ°€ μ™Έλ¶€μ— μ κ³µν•λ” μ¶”κ°•ν™”λ κ°λ…μ΄λΌκ³  μ΄ν•΄ν•λ”κ²ƒμ΄ λ” μΆ‹λ‹¤.

### 2.2.5 μΏΌλ¦¬λ¬Έμμ—΄

> http://localhost:3000/ch01.txt<strong  style="font-size: 1.4em">?query=name</strong>#μ•µμ»¤

- μ„λ²„μ— μ¶”κ°€λ΅ μ •λ³΄λ¥Ό μ „λ‹¬ν•  λ• μ‚¬μ©
- κ²½λ΅ λ’¤μ— ? λ΅ μ‹μ‘ν•λ©° key=value ν•νƒ, ν•λ‚ μ΄μƒμΌ λ•λ” &λ΅ μ—°κ²°

### 2.2.6 ν”„λ κ·Έλ¨ΌνΈ

> http://localhost:3000/ch01.txt?query=name<strong  style="font-size: 1.4em">#title</strong>

- μ›Ήνμ΄μ§€ λ‚΄μ— νΉμ • μ„μΉλ¥Ό κ°€λ¦¬ν‚΄
- html λ§ν¬μ—… id μ†μ„±κ³Ό λ§¤μΉ­ λ¨

## 2.3 μ”μ²­, λ¦¬ν€μ¤νΈ

- ν΄λΌμ΄μ–ΈνΈμ—μ„ μ„λ²„λ΅ μ „λ‹¬ν•λ” λ©”μ‹μ§€

```shell
# μ”μ²­ ν—¤λ”
> GET /ch01.txt HTTP/1.1
> Host: localhost:3000
> User-Agent: curl/8.7.1
> Accept: */*
>
```

> GET / ch01.txt HTTP/1.1

- GET: λ©”μ†λ“
  - ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„ κ°„μ μ”μ²­ λ°©μ‹μ„ μ •μ
  - ν΄λΌμ΄μ–ΈνΈκ°€ μ„λ²„μ—κ² μ–΄λ–¤ μ‘μ—…μ„ μν–‰ν• μ§€λ¥Ό λ©”μ„λ“λ΅ μ „λ‹¬
  - λ©”μ†λ“
    - GET: μ„λ²„λ΅λ¶€ν„° μμ›μ„ μ”μ²­ν•  λ• μ‚¬μ©
    - POST: μ„λ²„λ΅ λ°μ΄ν„°λ¥Ό μ „μ†΅ν•κ³  μ„λ²„λ” μ΄ μΌμ„ μ²λ¦¬ν•΄ μƒλ΅μ΄ μμ›μ„ μƒμ„±
    - PUT: μ„λ²„μ λ¦¬μ†μ¤ κµμ²΄
    - PATCH: μ„λ²„μ λ¦¬μ†μ¤λ¥Ό λ¶€λ¶„μ μΌλ΅ κµμ²΄
    - DELETE: μ„λ²„μ νΉμ„± λ¦¬μ†μ¤λ¥Ό μ‚­μ 
- /ch01.txt: κ²½λ΅
  - μ„λ²„μ μ–΄λ–¤ νμΌμ„ κ°€λ¦¬ν‚¤λ”μ§€ μ•λ ¤μ¤
- HTTP/1.1: ν”„λ΅ν† μ½ λ²„μ „

> Host: localhost: 3000

- Host: localhost:3000: μ”μ²­μ„ λ³΄λ‚Ό νΈμ¤νΈμ™€ ν¬νΈλ²νΈ (μ„λ²„μ μ„μΉ)

> User-Agent: curl/8.7.1

- User-Agent: ν΄λΌμ΄μ–ΈνΈ μ •λ³΄
  - curlμ„ μ‚¬μ©ν–κΈ° λ•λ¬Έμ— curl/8.7.1 μ΄λΌλ” κ°’μΌλ΅ λ‚νƒ€λ‚¨
  - λΈλΌμ°μ €λΌλ©΄ λΈλΌμ°μ € μ΄λ¦„μ΄ μ‹¤λ¦°λ‹¤.

> Acccept: \*/\*

- Accept: ν΄λΌμ΄μ–ΈνΈκ°€ μ–΄λ–¤ μ»¨ν…μΈ  νƒ€μ…μ„ λ°›μ„ μ μλ”μ§€ ν‘μ‹ν•λ” κ°’
  - \*/\*: μ–΄λ–¤ μ»¨ν…μΈ  νƒ€μ…μ΄λ“  λ°›μ„ μ μλ‹¤λ” μλ―Έ
- μ”μ²­ ν—¤λ”μ λ§μ§€λ§‰μ„ λΉ μ¤„λ΅ μ…λ ¥ν•λ©΄ μ”μ²­ν—¤λ”κ°€ λλ‚¬λ‹¤ λΌλ” μλ―Έ

### μ”μ²­ ν—¤λ”μ μΆ…λ¥

- Accept
- Accept-Encoding
- Accept-Language
- User-Agent
- Cookie
- Origin

- μΊμ‹± κ΄€λ ¨

  - If-Modifyied-Since
  - If-None-Match

- λ³΄μ• κ΄€λ ¨
  - Access-Control-Allow-Headers
  - Access-Control-Allow-Method

```shell
- μμ‹μ—λ” μ—†μ§€λ§ ν—¤λ”κ°€ λλ‚ λ’¤μ—λ” μ”μ²­ λ³Έλ¬Έμ„ μ‹¤μ„ μ μλ‹¤.
- μ”μ²­ ν—¤λ”μ™€ λ‹¬λ¦¬ μ”μ²­ λ³Έλ¬Έμ€ methodμ— λ”°λΌμ„ μ„ νƒμ‚¬ν•­ μ„
- POSTλ‚ PUT, PATCH κ°™μ€ methodμ—μ„λ” μ‚¬μ©ν•  μ μλ‹¤.
```
